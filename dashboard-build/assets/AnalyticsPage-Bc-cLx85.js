import{j as e,m,A as Z}from"./motion-CnUDAaLS.js";import{r as u}from"./react-vendor-DDxOQdDP.js";import{a as ee,s as $,u as te}from"./index-DNvzsDZk.js";import{u as ae}from"./useAlertModal-Den3me5c.js";import{u as se}from"./useQuery-CJKtlTfW.js";import{L as ie}from"./LoadingSpinner-QA4ydWnx.js";import{R as D,A as re,C as O,X as I,Y as E,T as M,a as T,P as le,b as oe,c as ne,L as ce,B as de,d as xe}from"./charts-BucqJsk_.js";import"./export-Dlusqx8k.js";import"./supabase-BCnEU3Yj.js";import"./analytics-BMD6QFpy.js";function me(a,r="30"){return se({queryKey:["analytics",a,r],enabled:!!a,refetchInterval:6e4,queryFn:async()=>{const o=new Date,c=new Date;c.setDate(o.getDate()-parseInt(r));const{data:p,error:A}=await $.from("leads").select(`
          id, nome, categoria, status, capital_disponivel, created_at, fonte,
          marca:id_marca (id, nome, emoji),
          status_comercial:id_status (id, label, slug),
          motivo_desistencia:id_motivo_desistencia (id, nome)
        `).eq("tenant_id",a).is("deleted_at",null).gte("created_at",c.toISOString()).order("created_at",{ascending:!1});if(A)throw A;const h=p||[],g=h.filter(i=>["vendido","convertido"].includes(i.status_comercial?.slug?.toLowerCase())),f=h.filter(i=>i.status_comercial?.slug?.toLowerCase()==="perdido"),y=h.filter(i=>["negociacao","negociaÃ§Ã£o","proposta","em_negociacao"].includes(i.status_comercial?.slug?.toLowerCase())),d=h.length,j=i=>i.reduce((l,v)=>l+(parseFloat(v.capital_disponivel)||0),0),F=j(g),b=j(f),L=j(y),S=d>0?(g.length/d*100).toFixed(1):"0.0",t=d>0?(f.length/d*100).toFixed(1):"0.0",s=g.length>0?(g.reduce((i,l)=>i+Math.ceil(Math.abs(new Date-new Date(l.created_at))/864e5),0)/g.length).toFixed(1):"0",n=Math.min(parseInt(r),30),N=Array.from({length:n},(i,l)=>{const v=new Date(o);v.setDate(o.getDate()-(n-1-l));const R=v.toISOString().split("T")[0],X=h.filter(w=>w.created_at?.startsWith(R)).length,Y=g.filter(w=>w.created_at?.startsWith(R)).length,J=h.filter(w=>w.created_at<=v.toISOString()).length;return{dia:v.toLocaleDateString("pt-BR",{day:"2-digit",month:"short"}),leads:X,vendidos:Y,acumulado:J}}),x=n>0?d/n:0,P=Math.round(x*30),z=d>0?g.length/d:0,q=d>0?j(h)/d:0,H=Math.round(P*z*q),B={};h.forEach(i=>{const l=i.marca?.nome||"Sem Marca";B[l]=(B[l]||0)+1});const V=Object.entries(B).map(([i,l])=>({name:i,value:l})).sort((i,l)=>l.value-i.value).slice(0,8),_={};f.forEach(i=>{const l=i.motivo_desistencia?.nome||"NÃ£o informado";_[l]=(_[l]||0)+1});const Q=Object.entries(_).map(([i,l])=>({motivo:i.length>22?i.slice(0,22)+"â€¦":i,valor:l})).sort((i,l)=>l.valor-i.valor),U=h.slice(0,20),G=x*90;return{total:d,vendidos:g.length,perdidos:f.length,pipeline:y.length,capitalFechado:F,capitalPerdido:b,capitalPipeline:L,txConversao:S,txDesistencia:t,cicloMedio:s,forecast:P,previsaoIA:H,pace90:G,evolucao:N,porMarca:V,motivosPerda:Q,ultimosLeads:U,mediadiaria:x.toFixed(1)}}})}function pe(a,r){const o=ee();u.useEffect(()=>{if(!a)return;const c=$.channel("leads-realtime").on("postgres_changes",{event:"INSERT",schema:"public",table:"leads",filter:`tenant_id=eq.${a}`},p=>{r?.(p.new),o.invalidateQueries({queryKey:["analytics",a]}),o.invalidateQueries({queryKey:["leads"]})}).subscribe();return()=>$.removeChannel(c)},[a])}const K=["#10B981","#3b82f6","#3b82f6","#8b5cf6","#ec4899","#10b981","#f43f5e","#06b6d4"],k=a=>a>=1e6?`R$ ${(a/1e6).toFixed(1)} mi`:a>=1e3?`R$ ${(a/1e3).toFixed(0)} k`:`R$ ${a}`,he=a=>{const r=Math.floor((Date.now()-new Date(a))/6e4);if(r<1)return"agora mesmo";if(r<60)return`hÃ¡ ${r} min`;const o=Math.floor(r/60);return o<24?`hÃ¡ ${o}h`:`hÃ¡ ${Math.floor(o/24)}d`};function C({label:a,value:r,sub:o,icon:c,highlight:p}){return e.jsxs(m.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:`relative bg-[#0F172A] border rounded-3xl p-6 flex flex-col gap-2 overflow-hidden
        ${p?"border-[#10B981]/40":"border-white/5"}`,children:[e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsx("p",{className:"text-[9px] font-black uppercase tracking-[0.2em] text-gray-500",children:a}),e.jsx("span",{className:"text-2xl opacity-40",children:c})]}),e.jsx("p",{className:`text-2xl lg:text-3xl font-black ${p?"text-[#10B981]":"text-white"}`,children:r}),o&&e.jsx("p",{className:"text-[10px] text-gray-600",children:o})]})}function ge({lead:a,isNew:r}){return e.jsxs(m.div,{initial:r?{opacity:0,x:30,backgroundColor:"rgba(16,185,129,0.15)"}:{opacity:1},animate:{opacity:1,x:0,backgroundColor:"rgba(0,0,0,0)"},transition:{duration:.5},className:"flex items-center gap-3 py-3 border-b border-white/5 last:border-0",children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-[#10B981] to-[#059669] flex-shrink-0 flex items-center justify-center text-black font-black text-sm",children:a.nome?.charAt(0).toUpperCase()||"?"}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-sm font-bold text-white truncate",children:a.nome}),e.jsxs("p",{className:"text-[10px] text-gray-500 truncate",children:[a.marca?.emoji," ",a.marca?.nome||"Sem marca"," Â· ",a.fonte||"â€”"]})]}),e.jsxs("div",{className:"text-right flex-shrink-0",children:[e.jsx("p",{className:"text-xs font-bold text-[#10B981]",children:a.capital_disponivel?k(a.capital_disponivel):"â€”"}),e.jsx("p",{className:"text-[10px] text-gray-600",children:he(a.created_at)})]})]})}function W({active:a,payload:r,label:o}){return!a||!r?.length?null:e.jsxs("div",{className:"bg-[#0F172A] border border-[#10B981]/20 rounded-xl px-4 py-3 shadow-xl",children:[e.jsx("p",{className:"text-xs text-gray-400 mb-1",children:o}),r.map((c,p)=>e.jsxs("p",{className:"text-sm font-bold",style:{color:c.color},children:[c.name,": ",c.value]},p))]})}const ue=[{label:"7D",value:"7"},{label:"15D",value:"15"},{label:"30D",value:"30"},{label:"90D",value:"90"}];function Le(){const{usuario:a}=te(),{alertModal:r,showAlert:o}=ae(),[c,p]=u.useState("30"),[A,h]=u.useState("overview"),[g,f]=u.useState([]),[y,d]=u.useState([]),[j,F]=u.useState(new Date);u.useRef(new Set),u.useEffect(()=>{const s=setInterval(()=>F(new Date),1e4);return()=>clearInterval(s)},[]);const{data:b,isLoading:L}=me(a?.tenant_id,c);pe(a?.tenant_id,s=>{f(n=>[s.id,...n].slice(0,5)),d(n=>[s,...n].slice(0,20))}),u.useEffect(()=>{b?.ultimosLeads&&d(b.ultimosLeads)},[b]);const S=()=>{if(!b?.ultimosLeads?.length){o({type:"warning",title:"AtenÃ§Ã£o",message:"Sem dados para exportar."});return}const n="\uFEFF"+["Nome,Capital,Marca,Status,Data,Fonte",...b.ultimosLeads.map(x=>[x.nome,x.capital_disponivel||0,x.marca?.nome||"",x.status_comercial?.label||"",new Date(x.created_at).toLocaleDateString("pt-BR"),x.fonte||""]).map(x=>x.join(","))].join(`
`),N=document.createElement("a");N.href=URL.createObjectURL(new Blob([n],{type:"text/csv;charset=utf-8;"})),N.download=`analytics_${c}d_${new Date().toISOString().split("T")[0]}.csv`,N.click()};if(L)return e.jsx(ie,{});const t=b||{};return e.jsxs("div",{className:"min-h-screen bg-[#0B1220] text-white pb-32",children:[e.jsxs("div",{className:"px-4 lg:px-10 pt-6 lg:pt-8 mb-6 flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[e.jsxs(m.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},children:[e.jsxs("h1",{className:"text-2xl lg:text-4xl font-light text-white mb-1",children:["Analytics ",e.jsx("span",{className:"text-[#10B981] font-bold",children:"& BI"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-16 h-0.5 bg-[#10B981] rounded-full"}),e.jsx("p",{className:"text-[8px] lg:text-[9px] text-gray-600 font-black uppercase tracking-[0.3em]",children:"Centro de InteligÃªncia Comercial"})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("div",{className:"flex items-center gap-2 bg-[#0F172A] border border-white/5 rounded-2xl px-4 py-2",children:[e.jsx("span",{className:"w-2 h-2 rounded-full bg-green-400 animate-pulse"}),e.jsx("span",{className:"text-[10px] font-black text-green-400 uppercase tracking-wider",children:"AO VIVO"}),e.jsx("span",{className:"text-[10px] text-gray-500",children:j.toLocaleTimeString("pt-BR")})]}),e.jsx("div",{className:"flex bg-[#0F172A] border border-white/5 rounded-2xl p-1 gap-1",children:ue.map(s=>e.jsx("button",{onClick:()=>p(s.value),className:`px-3 py-2 rounded-xl text-xs font-black transition-all
                  ${c===s.value?"bg-[#10B981] text-black":"text-gray-500 hover:text-white"}`,children:s.label},s.value))}),e.jsx("button",{onClick:S,className:"flex items-center gap-2 bg-[#0F172A] border border-white/5 hover:border-[#10B981]/30 px-4 py-2.5 rounded-2xl text-xs font-black text-gray-400 hover:text-white transition-all",children:"ðŸ“¥ CSV"})]})]}),e.jsxs("div",{className:"px-4 lg:px-10 mb-8 grid grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsx(C,{label:"Leads Captados",value:t.total||0,sub:`${t.mediadiaria||"0.0"}/dia em mÃ©dia`,icon:"ðŸŽ¯"}),e.jsx(C,{label:"Capital em Leads",value:k(t.capitalFechado||0),sub:`${t.vendidos||0} conversÃµes`,icon:"ðŸ’°",highlight:!0}),e.jsx(C,{label:"Taxa ConversÃ£o",value:`${t.txConversao||"0.0"}%`,sub:"Meta: 20%",icon:"ðŸ“ˆ"}),e.jsx(C,{label:"Capital Pipeline",value:k(t.capitalPipeline||0),sub:`${t.pipeline||0} em negociaÃ§Ã£o`,icon:"ðŸ¤"})]}),e.jsxs("div",{className:"px-4 lg:px-10 mb-8 grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxs(m.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"lg:col-span-2 bg-[#0F172A] border border-white/5 rounded-3xl p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-base font-bold text-white",children:"Leads por PerÃ­odo"}),e.jsx("p",{className:"text-[10px] text-gray-500",children:"EvoluÃ§Ã£o real vs forecast"})]}),e.jsxs("div",{className:"flex gap-3 text-[10px] text-gray-500",children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx("span",{className:"w-3 h-0.5 bg-[#10B981] inline-block"})," Leads"]}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx("span",{className:"w-3 h-0.5 bg-blue-400 inline-block border-dashed border-t border-blue-400"})," Forecast"]})]})]}),e.jsx("div",{className:"h-[280px] mt-4",style:{minHeight:280,minWidth:0},children:e.jsx(D,{width:"100%",height:"100%",minWidth:0,minHeight:280,children:e.jsxs(re,{data:t.evolucao||[],margin:{top:5,right:5,bottom:5,left:-20},children:[e.jsxs("defs",{children:[e.jsxs("linearGradient",{id:"gLeads",x1:"0",y1:"0",x2:"0",y2:"1",children:[e.jsx("stop",{offset:"5%",stopColor:"#10B981",stopOpacity:.3}),e.jsx("stop",{offset:"95%",stopColor:"#10B981",stopOpacity:0})]}),e.jsxs("linearGradient",{id:"gVendidos",x1:"0",y1:"0",x2:"0",y2:"1",children:[e.jsx("stop",{offset:"5%",stopColor:"#3b82f6",stopOpacity:.2}),e.jsx("stop",{offset:"95%",stopColor:"#3b82f6",stopOpacity:0})]})]}),e.jsx(O,{strokeDasharray:"3 3",stroke:"rgba(255,255,255,0.03)"}),e.jsx(I,{dataKey:"dia",stroke:"#374151",fontSize:9,axisLine:!1,tickLine:!1}),e.jsx(E,{stroke:"#374151",fontSize:9,axisLine:!1,tickLine:!1}),e.jsx(M,{content:e.jsx(W,{})}),e.jsx(T,{type:"monotone",dataKey:"leads",name:"Leads",stroke:"#10B981",fill:"url(#gLeads)",strokeWidth:2.5,dot:!1}),e.jsx(T,{type:"monotone",dataKey:"vendidos",name:"Convertidos",stroke:"#3b82f6",fill:"url(#gVendidos)",strokeWidth:2,dot:!1,strokeDasharray:"5 3"})]})})}),e.jsxs("div",{className:"mt-4 pt-4 border-t border-white/5 grid grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsxs("p",{className:"text-[9px] text-gray-500 uppercase tracking-wider mb-1",children:["Pace ",c,"D"]}),e.jsxs("p",{className:"text-lg font-black text-white",children:[t.mediadiaria||"0.0","/dia"]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-[9px] text-gray-500 uppercase tracking-wider mb-1",children:"Forecast 30D"}),e.jsxs("p",{className:"text-lg font-black text-[#10B981]",children:[t.forecast||0," leads"]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-[9px] text-gray-500 uppercase tracking-wider mb-1",children:"Taxa Perca"}),e.jsxs("p",{className:"text-lg font-black text-red-400",children:[t.txDesistencia||"0.0","%"]})]})]})]}),e.jsxs(m.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.2},className:"bg-[#0F172A] border border-white/5 rounded-3xl p-6 flex flex-col",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-base font-bold text-white flex items-center gap-2",children:"ðŸ”´ Ãšltimos Leads"}),e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-red-400 animate-pulse"}),e.jsx("span",{className:"text-[9px] font-black text-red-400 uppercase tracking-wider",children:"Ao Vivo"})]})]}),e.jsxs("div",{className:"flex-1 overflow-y-auto scrollbar-none max-h-[380px]",children:[e.jsx(Z,{children:y.slice(0,15).map(s=>e.jsx(ge,{lead:s,isNew:g.includes(s.id)},s.id))}),y.length===0&&e.jsxs("div",{className:"text-center py-10 text-gray-600",children:[e.jsx("p",{className:"text-3xl mb-2",children:"ðŸ“­"}),e.jsx("p",{className:"text-xs",children:"Nenhum lead ainda"})]})]})]})]}),e.jsxs("div",{className:"px-4 lg:px-10 mb-8 grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxs(m.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"bg-gradient-to-br from-[#0F172A] to-[#0F172A] border border-[#10B981]/20 rounded-3xl p-6 relative overflow-hidden",children:[e.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-[#10B981]/5 rounded-full -translate-y-8 translate-x-8"}),e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx("span",{className:"text-xl",children:"ðŸ¤–"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-[9px] font-black text-[#10B981] uppercase tracking-wider",children:"PrevisÃ£o IA"}),e.jsx("p",{className:"text-[8px] text-gray-600",children:"Baseado no histÃ³rico do perÃ­odo"})]}),e.jsx("span",{className:"ml-auto text-[8px] bg-[#10B981]/10 border border-[#10B981]/20 text-[#10B981] px-2 py-0.5 rounded-full font-black uppercase",children:"AUTO"})]}),e.jsx("p",{className:"text-[10px] text-gray-500 uppercase tracking-wider mb-1",children:"Fechamento Estimado"}),e.jsx("p",{className:"text-3xl lg:text-4xl font-black text-white mb-1",children:k(t.previsaoIA||0)}),e.jsxs("p",{className:"text-[10px] text-gray-500",children:[t.forecast||0," leads previstos Ã— ",t.txConversao||"0.0","% conversÃ£o"]}),e.jsxs("div",{className:"mt-4 pt-4 border-t border-white/5 flex items-center gap-2",children:[e.jsx("span",{className:"text-green-400 text-sm",children:"ðŸ“ˆ"}),e.jsxs("span",{className:"text-xs text-gray-400",children:["ProjeÃ§Ã£o baseada nos Ãºltimos ",c," dias"]})]})]}),e.jsxs(m.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.35},className:"bg-[#0F172A] border border-white/5 rounded-3xl p-6 relative overflow-hidden",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx("span",{className:"text-xl",children:"ðŸ“Š"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-[9px] font-black text-gray-400 uppercase tracking-wider",children:"Pace 90D"}),e.jsx("p",{className:"text-[8px] text-gray-600",children:"HistÃ³rico"})]})]}),e.jsx("p",{className:"text-[10px] text-gray-500 uppercase tracking-wider mb-1",children:"ProjeÃ§Ã£o 90 dias"}),e.jsxs("p",{className:"text-3xl lg:text-4xl font-black text-white mb-1",children:[Math.round(t.pace90||0)," leads"]}),e.jsxs("p",{className:"text-[10px] text-gray-500",children:["MÃ©dia diÃ¡ria: ",t.mediadiaria||"0.0","/dia"]}),e.jsxs("div",{className:"mt-4",children:[e.jsxs("div",{className:"flex justify-between text-[9px] text-gray-600 mb-1",children:[e.jsx("span",{children:"Progresso"}),e.jsxs("span",{children:[Math.min(100,Math.round(t.total/Math.max(t.pace90,1)*100)),"%"]})]}),e.jsx("div",{className:"h-1.5 bg-white/5 rounded-full overflow-hidden",children:e.jsx(m.div,{initial:{width:0},animate:{width:`${Math.min(100,Math.round(t.total/Math.max(t.pace90,1)*100))}%`},transition:{duration:1,delay:.5},className:"h-full bg-gradient-to-r from-[#10B981] to-[#059669] rounded-full"})})]})]}),e.jsxs(m.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"bg-[#0F172A] border border-white/5 rounded-3xl p-6 flex flex-col gap-3",children:[e.jsx("h3",{className:"text-sm font-bold text-white mb-1",children:"ðŸ’¡ Insights"}),[{icon:(parseFloat(t.txConversao)||0)>=20?"ðŸŽ¯":(parseFloat(t.txConversao)||0)>=10?"ðŸ“Š":"ðŸ“‰",text:`ConversÃ£o ${t.txConversao||"0.0"}% â€” ${(parseFloat(t.txConversao)||0)>=20?"Acima da mÃ©dia!":(parseFloat(t.txConversao)||0)>=10?"Na mÃ©dia":"Abaixo da mÃ©dia"}`,color:(parseFloat(t.txConversao)||0)>=20?"text-green-400":(parseFloat(t.txConversao)||0)>=10?"text-yellow-400":"text-red-400"},{icon:(t.perdidos||0)>0?"âš ï¸":"âœ…",text:`${t.perdidos||0} leads perdidos (${t.txDesistencia||"0.0"}% desistÃªncia)`,color:(t.perdidos||0)>5?"text-red-400":"text-gray-400"},{icon:"â±ï¸",text:`Ciclo mÃ©dio: ${t.cicloMedio||"0"} dias atÃ© conversÃ£o`,color:"text-blue-400"},{icon:"ðŸ’¸",text:`Capital perdido: ${k(t.capitalPerdido||0)}`,color:(t.capitalPerdido||0)>5e4?"text-red-400":"text-gray-400"}].map((s,n)=>e.jsxs("div",{className:"flex items-start gap-2 bg-white/3 rounded-xl px-3 py-2",children:[e.jsx("span",{className:"text-base mt-0.5",children:s.icon}),e.jsx("p",{className:`text-xs font-medium ${s.color}`,children:s.text})]},n))]})]}),e.jsxs("div",{className:"px-4 lg:px-10 mb-8 grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs(m.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"bg-[#0F172A] border border-white/5 rounded-3xl p-6",children:[e.jsx("h3",{className:"text-sm font-bold text-white mb-6",children:"ðŸ¢ Leads por Marca"}),(t.porMarca||[]).length>0?e.jsx("div",{className:"h-[260px]",style:{minHeight:260,minWidth:0},children:e.jsx(D,{width:"100%",height:"100%",minWidth:0,minHeight:260,children:e.jsxs(le,{children:[e.jsx(oe,{data:t.porMarca,innerRadius:55,outerRadius:85,paddingAngle:4,dataKey:"value",stroke:"none",label:({name:s,percent:n})=>`${s} ${(n*100).toFixed(0)}%`,labelLine:!1,children:(t.porMarca||[]).map((s,n)=>e.jsx(ne,{fill:K[n%K.length]},n))}),e.jsx(M,{contentStyle:{backgroundColor:"#0B1220",border:"1px solid rgba(16,185,129,0.2)",borderRadius:"12px",color:"#F8FAFC",padding:"8px 14px"},itemStyle:{color:"#F8FAFC",fontSize:"13px",fontWeight:"bold"},labelStyle:{color:"#94A3B8",fontSize:"11px"}}),e.jsx(ce,{verticalAlign:"bottom",height:36,formatter:s=>e.jsx("span",{style:{color:"#CBD5E1",fontSize:"11px"},children:s})})]})})}):e.jsx("div",{className:"h-[260px] flex items-center justify-center text-gray-600 text-sm",children:"Sem dados suficientes"})]}),e.jsxs(m.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.45},className:"bg-[#0F172A] border border-white/5 rounded-3xl p-6",children:[e.jsx("h3",{className:"text-sm font-bold text-white mb-6",children:"ðŸ“‰ Motivos de Perda"}),(t.motivosPerda||[]).length>0?e.jsx("div",{className:"h-[260px]",style:{minHeight:260,minWidth:0},children:e.jsx(D,{width:"100%",height:"100%",minWidth:0,minHeight:260,children:e.jsxs(de,{data:t.motivosPerda,margin:{top:5,right:5,bottom:20,left:-20},children:[e.jsx(O,{strokeDasharray:"3 3",stroke:"rgba(255,255,255,0.03)"}),e.jsx(I,{dataKey:"motivo",stroke:"#374151",fontSize:8,axisLine:!1,tickLine:!1,angle:-20,textAnchor:"end"}),e.jsx(E,{stroke:"#374151",fontSize:9,axisLine:!1,tickLine:!1}),e.jsx(M,{content:e.jsx(W,{})}),e.jsx(xe,{dataKey:"valor",name:"Leads",fill:"#10B981",radius:[8,8,0,0],barSize:32})]})})}):e.jsx("div",{className:"h-[260px] flex items-center justify-center text-gray-600 text-sm",children:"Nenhuma perda registrada ðŸŽ‰"})]})]}),r]})}export{Le as default};
