import{j as e,m as c}from"./motion-CnUDAaLS.js";import{r as n}from"./react-vendor-DDxOQdDP.js";import{u as m}from"./useAlertModal-Den3me5c.js";const p=[{id:"boas_vindas",icon:"ðŸ‘‹",title:"Boas-vindas automÃ¡ticas",desc:"Envia mensagem de WhatsApp imediatamente apÃ³s a captura de um novo lead.",status:"ativo",gatilho:"Novo lead criado",acoes:["WhatsApp â†’ Lead","E-mail â†’ Admin"],execucoes:142},{id:"followup_warm",icon:"ðŸŒ¤",title:"Follow-up para leads Warm",desc:"Aguarda 48h e reenvia mensagem para leads Warm que nÃ£o foram contatados.",status:"pausado",gatilho:"Lead Warm + 48h sem contato",acoes:["WhatsApp â†’ Lead"],execucoes:38},{id:"qualificacao_ia",icon:"ðŸ¤–",title:"QualificaÃ§Ã£o com IA",desc:"Analisa a mensagem do lead com GPT e recalcula score + categoria automaticamente.",status:"configurando",gatilho:"Lead com mensagem_original preenchida",acoes:["GPT â†’ Score","GPT â†’ Categoria","Notifica operador"],execucoes:0},{id:"alerta_hot",icon:"ðŸ”¥",title:"Alerta de lead HOT",desc:"Notifica o gestor no Telegram instantaneamente quando um lead Hot Ã© capturado.",status:"ativo",gatilho:"Lead com categoria = hot",acoes:["Telegram â†’ Gestor","E-mail â†’ Gestor"],execucoes:21},{id:"crm_sync",icon:"ðŸ”—",title:"SincronizaÃ§Ã£o com CRM",desc:"Exporta leads convertidos automaticamente para o CRM configurado (Pipedrive, RD Station).",status:"configurando",gatilho:"Lead com status = convertido",acoes:["API â†’ CRM externo"],execucoes:0}],u={ativo:{label:"Ativo",bg:"bg-green-500/10",text:"text-green-400",border:"border-green-500/30"},pausado:{label:"Pausado",bg:"bg-yellow-500/10",text:"text-yellow-400",border:"border-yellow-500/30"},configurando:{label:"Configurando",bg:"bg-blue-500/10",text:"text-blue-400",border:"border-blue-500/30"}};function f(){const{alertModal:d,showAlert:l}=m(),[t,i]=n.useState(null);return n.useEffect(()=>{fetch("/api/sistema/status").then(a=>a.json()).then(i).catch(()=>i(null))},[]),e.jsxs("div",{className:"min-h-screen bg-[#0B1220] text-white pb-32",children:[e.jsx("div",{className:"px-4 lg:px-10 pt-6 lg:pt-10 mb-8",children:e.jsxs(c.div,{initial:{opacity:0,y:-16},animate:{opacity:1,y:0},children:[e.jsxs("h1",{className:"text-2xl lg:text-4xl font-light text-white mb-2",children:["Centro de ",e.jsx("span",{className:"text-[#10B981] font-bold",children:"AutomaÃ§Ã£o"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-16 h-0.5 bg-[#10B981] rounded-full"}),e.jsx("p",{className:"text-[8px] lg:text-[9px] text-gray-600 font-black uppercase tracking-[0.3em]",children:"Workflows n8n Â· WhatsApp Â· IA"})]})]})}),e.jsx("div",{className:"px-4 lg:px-10 mb-8",children:e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[{icon:"âš¡",label:"n8n AutomaÃ§Ã£o",value:"http://localhost:5678",status:"NÃ£o configurado",color:"text-yellow-400"},{icon:"ðŸ’¬",label:"Evolution API (WhatsApp)",value:t?.services?.whatsapp?.info?.status??"â€”",status:t?.services?.whatsapp?.ok?"Conectado":"NÃ£o configurado",color:t?.services?.whatsapp?.ok?"text-green-400":"text-yellow-400"},{icon:"ðŸ“§",label:"E-mail SMTP",value:t?.services?.email?.configurado?"Configurado":"Modo simulado",status:t?.services?.email?.configurado?"Ativo":"Simulado",color:t?.services?.email?.configurado?"text-green-400":"text-blue-400"}].map(({icon:a,label:o,value:s,status:r,color:x})=>e.jsxs("div",{className:"bg-[#0F172A] border border-white/5 rounded-3xl p-6",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsx("span",{className:"text-2xl",children:a}),e.jsx("span",{className:"text-xs font-black uppercase tracking-wider text-gray-500",children:o})]}),e.jsx("p",{className:"text-sm text-gray-300 mb-1 truncate",children:s}),e.jsx("p",{className:`text-xs font-bold ${x}`,children:r})]},o))})}),e.jsxs("div",{className:"px-4 lg:px-10",children:[e.jsx("p",{className:"text-xs font-black text-gray-500 uppercase tracking-[0.2em] mb-5",children:"Workflows disponÃ­veis"}),e.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-5",children:p.map((a,o)=>{const s=u[a.status];return e.jsxs(c.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:o*.07},className:"bg-[#0F172A] border border-white/5 rounded-3xl p-6 hover:border-white/10 transition-all",children:[e.jsxs("div",{className:"flex items-start justify-between gap-4 mb-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-12 h-12 bg-[#10B981]/08 rounded-2xl flex items-center justify-center text-2xl",children:a.icon}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-white text-sm",children:a.title}),e.jsxs("p",{className:"text-xs text-gray-500 mt-0.5",children:[a.execucoes," execuÃ§Ãµes"]})]})]}),e.jsx("span",{className:`
                    text-[9px] font-black uppercase tracking-wider px-3 py-1 rounded-full border
                    ${s.bg} ${s.text} ${s.border} whitespace-nowrap
                  `,children:s.label})]}),e.jsx("p",{className:"text-sm text-gray-400 mb-5 leading-relaxed",children:a.desc}),e.jsxs("div",{className:"space-y-2 mb-5",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-[9px] font-black uppercase tracking-wider text-gray-600 w-16",children:"Gatilho"}),e.jsx("span",{className:"text-xs text-[#10B981] bg-[#10B981]/08 px-3 py-1 rounded-full",children:a.gatilho})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-[9px] font-black uppercase tracking-wider text-gray-600 w-16 mt-1",children:"AÃ§Ãµes"}),e.jsx("div",{className:"flex flex-wrap gap-1.5",children:a.acoes.map(r=>e.jsx("span",{className:"text-xs text-gray-400 bg-white/5 px-3 py-1 rounded-full border border-white/5",children:r},r))})]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{className:"flex-1 py-2.5 text-xs font-bold rounded-xl bg-white/5 border border-white/5 text-gray-400 hover:bg-white/10 transition-all",onClick:()=>l({type:"info",title:"n8n",message:"Abra o painel do n8n para configurar este workflow."}),children:"Configurar no n8n"}),a.status==="ativo"&&e.jsx("button",{className:"py-2.5 px-4 text-xs font-bold rounded-xl bg-yellow-500/10 border border-yellow-500/20 text-yellow-400 hover:bg-yellow-500/20 transition-all",children:"Pausar"}),a.status==="pausado"&&e.jsx("button",{className:"py-2.5 px-4 text-xs font-bold rounded-xl bg-green-500/10 border border-green-500/20 text-green-400 hover:bg-green-500/20 transition-all",children:"Ativar"})]})]},a.id)})}),e.jsxs("div",{className:"mt-8 bg-gradient-to-r from-[#10B981]/10 to-[#059669]/05 border border-[#10B981]/20 rounded-3xl p-8 text-center",children:[e.jsx("p",{className:"text-3xl mb-3",children:"âš¡"}),e.jsx("h3",{className:"font-bold text-white mb-2",children:"n8n ainda nÃ£o configurado?"}),e.jsxs("p",{className:"text-sm text-gray-400 mb-6 max-w-md mx-auto",children:["Suba o Docker Compose e acesse ",e.jsx("strong",{className:"text-white",children:"localhost:5678"})," para configurar seus workflows. Templates prontos estÃ£o disponÃ­veis na pasta ",e.jsx("code",{className:"text-[#10B981]",children:"automacao/workflows/"}),"."]}),e.jsxs("div",{className:"flex flex-wrap justify-center gap-3",children:[e.jsx("a",{href:"http://localhost:5678",target:"_blank",rel:"noopener noreferrer",className:"px-6 py-3 bg-[#10B981] text-black font-bold text-sm rounded-xl hover:opacity-85 transition-all",children:"Abrir n8n"}),e.jsx("button",{onClick:()=>l({type:"info",title:"Comando Docker",message:"docker compose -f docker/docker-compose.yml up -d"}),className:"px-6 py-3 bg-white/5 border border-white/10 text-white font-bold text-sm rounded-xl hover:bg-white/10 transition-all",children:"Ver comando Docker"})]})]})]}),d]})}export{f as default};
